<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Product Comparison</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            
            background-color: #f5e5bf;
        }

        #compare-heading {
            text-align: center;
            margin-top: 10px;
            margin-bottom: 30px;
            font-size: 1.5rem;
            color: #B88E2F;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .comparison-wrapper {
            overflow-x: auto;
        }

        table {
            width: 100%;
            min-width: 1000px;
            border-collapse: collapse;
            background-color: #fff;
        }

        th,
        td {
            padding: 15px;
            text-align: center;
            border: 1px solid #eee;
            vertical-align: middle;
        }

        th {
            background-color: #fafafa;
            font-weight: 600;
        }

        td img {
            width: 140px;
            height: auto;
            object-fit: contain;
        }

        .label {
            text-align: left;
            font-weight: 600;
            background-color: #f6f6f6;
        }

        .remove-btn {
            background: crimson;
            color: white;
            padding: 6px 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .remove-btn:hover {
            background: darkred;
        }

        .back-link {
      display: inline-block;
      margin-top: 30px;
      text-decoration: none;
      color: #376ba0;
      font-weight: 500;
    }
    .back-link:hover {
      text-decoration: underline;
    }
    </style>
</head>

<body>
    <header>
        <div class="logo-section">
            <img src="images/Group 206.png" alt="Wooden Dreams Logo" class="logo">
            <h1>Wooden Dreams</h1>
        </div>
        <nav class="navbar">
            <a href="home.html">Home</a>
            <a href="aboutus.html">About Us</a>
            <a href="categories.html">Categories</a>
            <a href="shop.html" class="active">Shop</a>
            <a href="blog.html">Blog</a>
            <a href="#footer-social">Contact</a>
        </nav>
        <div class="header-icons">
            <div>
                <img src="images/material-symbols_search.png" alt="Search">
                <p>Search</p>
            </div>

            <div class="cart-icon">
                <img src="images/Group 189.png" alt="Cart Icon">
                <p>Cart <a href="cart.html"><span class="cart-count">0</span></p></a>

            </div>
            <a style="text-decoration:none;color:white" href="wishlist.html" class="nav-link">
                <div>
                    <img src="images/Heart.png" alt="Liked">
                    <p>Liked</p>
                </div>
            </a>
            <button class="login-btn">Sign Up / Sign In</button>

        </div>

        </div>
    </header>
    <div class="page-content">
        <div class="mobile-nav">
            <div class="mobile-nav-bar">
                <div class="menu-toggle" onclick="toggleMenu()">☰</div>
                <div class="mobile-header-icons">
                    <div>
                        <img src="images/material-symbols_search.png" alt="Search">
                        <p>Search</p>
                    </div>
                    <div class="cart-icon">
                        <a style="text-decoration:none;color:white" href="cart.html">
                            <img src="images/Group 189.png" alt="Cart Icon">
                            <p>Cart <span class="cart-count">0</span></p>
                        </a>

                    </div>


                    <div>
                        <img src="images/Group 190.png" alt="Liked">
                        <p>Liked</p>
                    </div>
                    <button class="login-btn">Sign Up / Sign In</button>
                </div>
            </div>

            <div id="mobile-menu" class="hidden">
                <div class="mobile-logo-section">
                    <img src="images/Group 206.png" alt="Wooden Dreams Logo" class="mobile-logo">
                    <h1>Wooden Dreams</h1>
                </div>
                <a href="home.html">Home</a>
                <a href="aboutus.html">About Us</a>
                <a href="categories.html">Categories</a>
                <a href="shop.html" class="active">Shop</a>
                <a href="blog.html">Blog</a>
                <a href="#footer-social">Contact</a>
            </div>
        </div>
<a href="blog.html" class="back-link">← Continue shopping</a>
        <h1 id="compare-heading">Compare Your Selection</h1>

        <div class="comparison-wrapper">
            <table id="comparisonTable">
                <!-- JS will render content here -->
            </table>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const compareList = JSON.parse(localStorage.getItem("compareList")) || [];
                const table = document.getElementById("comparisonTable");

                if (compareList.length === 0) {
                    table.innerHTML = "<tr><td colspan='100%'>No products selected for comparison.</td></tr>";
                    return;
                }

                const attributes = [
                    { label: "", key: "image", render: p => `<img src="${p.image}" alt="${p.name}" />` },
                    { label: "Name", key: "name" },
                    { label: "Price", key: "price", render: p => `₹${p.price}` },
                    { label: "Material", key: "material" },
                    { label: "Size", key: "size"},
                    { label: "Color", key: "color" },
                    { label: "Description", key: "description" },
                    { label: "Action", key: "remove", render: (p, i) => `<button class="remove-btn" data-index="${i}">Remove</button>` }
                ];

                // Build table rows
                table.innerHTML = attributes.map(attr => {
                    const row = compareList.map((p, i) => {
                        return `<td>${attr.render ? attr.render(p, i) : (p[attr.key] || "-")}</td>`;
                    }).join("");
                    return `<tr>
          <th class="label">${attr.label}</th>
          ${row}
        </tr>`;
                }).join("");

                // Remove handler
                table.addEventListener("click", e => {
                    if (e.target.classList.contains("remove-btn")) {
                        const index = e.target.dataset.index;
                        compareList.splice(index, 1);
                        localStorage.setItem("compareList", JSON.stringify(compareList));
                        location.reload();
                    }
                });
            });
        </script>

         <script>
  function updateCartCount() {
    const cartCount = JSON.parse(localStorage.getItem("cart"))?.length || 0;
    const badge = document.querySelector(".cart-count");

    if (badge) {
      badge.textContent = cartCount;
    }
  }

  // Run it on every page load
  document.addEventListener("DOMContentLoaded", updateCartCount);
</script>
</body>

</html>